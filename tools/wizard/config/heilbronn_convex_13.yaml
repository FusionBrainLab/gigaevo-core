# Heilbronn Convex 13 Points Problem Configuration
# Example configuration for the wizard scaffolding system
#
# This is based on the alphaevolve_math_problems/heilbronn_convex/13 problem.

name: "heilbronn_convex_13"
description: "Heilbronn Triangle Problem for Convex Regions - optimal placement of 13 points to maximize minimum triangle area"

# Function signatures
entrypoint:
  params: []
  returns: "(13, 2) NumPy array of (x, y) coordinates for 13 points"
  inputs: null

validation:
  params: ["points"]
  returns: "dict with metrics: min_area_normalized, combined_score, is_valid"
  inputs: "points: (13, 2) array from entrypoint()"

# Metrics (is_valid is auto-generated, don't include it)
metrics:
  min_area_normalized:
    description: "Area of smallest triangle divided by convex hull area (PRIMARY OBJECTIVE - maximize)"
    decimals: 10
    is_primary: true
    higher_is_better: true
    lower_bound: 0.0
    upper_bound: 1.0
    include_in_prompts: true
    significant_change: 0.0000000001
    sentinel_value: 0.0
  combined_score:
    description: "Progress toward benchmark: min_area_normalized / 0.030936889034895654 (PRIMARY OBJECTIVE - maximize, > 1 means new record)"
    decimals: 10
    is_primary: false
    higher_is_better: true
    lower_bound: 0.0
    upper_bound: 2.0
    include_in_prompts: true
    significant_change: 0.0000000001
    sentinel_value: 0.0

# Task description
task_description:
  objective: |
    TASK DEFINITION - HEILBRONN TRIANGLE PROBLEM FOR CONVEX REGIONS (13 POINTS)

    Problem Type: Computational Geometry and Discrete Optimization
    Challenge: Design optimal arrangement of exactly 13 points within or on the boundary of a unit-area convex region to maximize the area of the smallest triangle formed by any three of these points.

    PROBLEM COMPLEXITY

    The Heilbronn problem is among the most challenging in discrete geometry, with optimal configurations rigorously known only for n <= 4 points. For large n, the optimal value approaches O(1/n^2) with logarithmic corrections, but the exact constant remains unknown. This is a high-dimensional, non-convex optimization problem where points must balance competing objectives: interior points can form larger triangles but create crowding, while boundary points avoid area penalties but limit triangle formation. Effective solutions must use sophisticated optimization techniques to navigate the complex geometric landscape while maintaining strict constraint satisfaction.

    You are an expert computational geometer and optimization specialist with deep expertise in the Heilbronn triangle problem - a fundamental challenge in discrete geometry first posed by Hans Heilbronn in 1957. Your mission is to evolve and optimize a constructor function that generates an optimal arrangement of exactly 13 points within or on the boundary of a unit-area convex region.

    OBJECTIVE:
    Implement a Python function that returns optimal (x, y) coordinates for 13 points, such that the minimum triangle area (normalized by convex hull area) is maximized.

    - Output shape: (13, 2) NumPy array of (x, y) coordinates
    - Fitness: min_area_normalized = (Area of smallest triangle) / (Area of convex hull) (PRIMARY OBJECTIVE - maximize)
    - Goal: Beat the AlphaEvolve state-of-the-art result of min_area_normalized = 0.030936889034895654 (combined_score > 1.0)
    - Performance metrics: min_area_normalized (primary), combined_score = min_area_normalized / 0.030936889034895654
    - Technical requirements: Determinism (fixed random seeds), error handling, geometric constraint satisfaction, numerical precision

    GEOMETRIC SETUP:
    - Number of points: Exactly 13 points required
    - Region: Convex region of unit area (points must be within or on boundary)
    - Triangle count: C(13,3) = 286 possible triangles
    - All points must be within or on the boundary of the convex hull

    CONSTRAINTS:
    - Exactly 13 points required
    - All points must be within or on the boundary of a convex region
    - Points must form valid geometric configuration (no degenerate cases)
    - All coordinates must be finite real numbers
    - No duplicate points (within numerical tolerance)
    - Numerical precision matters for geometric computations

    MATHEMATICAL CONTEXT:
    - The problem is scale-invariant; solutions can be normalized to any convex region
    - Optimal configurations often exhibit rotational symmetries (particularly 3-fold due to triangular geometry)
    - Points should balance between interior placement (larger triangles) and boundary placement (avoid crowding)
    - Delaunay triangulation properties and Voronoi diagram regularity indicate point distribution quality
    - Relationship between circumradius and triangle area is critical

  hints:
    - "Triangle degeneracy: Three points nearly collinear -> avoid near-collinear configurations"
    - "Boundary vs interior: Balance between boundary points (avoid crowding) and interior points (larger triangles)"
    - "Symmetry: Optimal configurations often exhibit 3-fold rotational symmetry"
    - "Point distribution: Use Voronoi cell area variance as indicator of distribution quality"
    - "Initialization: Consider perturbed regular grids, hexagonal lattices, or low-discrepancy sequences"
    - "Optimization: Multi-scale approach with coarse global search and fine local refinement"
    - "Constraint handling: Use penalty methods or projection operators for convexity constraints"
    - "Use program insights to identify patterns affecting minimum triangle area"
    - "Leverage lineage outcomes to guide optimization decisions"

# Optional features
add_context: false
add_helper: true

# Initial programs
initial_programs:
  - name: "random"
    description: "Random point placement with fixed seed"
  - name: "grid"
    description: "Regular grid-based point arrangement"
  - name: "hexagonal"
    description: "Hexagonal close-packing arrangement"
